{
  "meta": {
    "kind": "server actions",
    "path": "server-actions-with-zod",
    "title": "Server Actions with Zod",
    "description": "\nServer Actions are asynchronous functions that are executed on the server.\nThey can be used in Server and Client Components to handle form submissions and data mutations in Next.js applications.\n    ",
    "doc": "https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations"
  },
  "codes": {
    "page.tsx": "import { schema } from \"../server-actions/schema\";\nimport { create } from \"./actions\";\n\nexport default function Page() {\n  return (\n    <form action={create} className=\"flex flex-col gap-4\">\n      {/* prefer using \"required\" and \"type=\"email\" */}\n      <input type=\"text\" name=\"email\" className=\"bg-slate-700\" />\n      <button type=\"submit\">aaaa</button>\n      {/* <Submit /> */}\n    </form>\n  );\n}\n",
    "actions.ts": "\"use server\";\n\nimport { schema } from \"../server-actions/schema\";\n\nconst initialState = {\n  message: \"\",\n};\n\nexport async function create(\n  // prevState: typeof initialState | null,\n  formData: FormData,\n) {\n  const validatedFields = schema.safeParse({\n    email: formData.get(\"email\"),\n  });\n\n  if (!validatedFields.success) {\n    return {\n      message: validatedFields.error.flatten().fieldErrors,\n    };\n  }\n\n  return {\n    message: \"success\",\n  };\n}\n"
  }
}